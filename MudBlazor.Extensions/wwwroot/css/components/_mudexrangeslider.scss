/* _mudexrangeslider.scss
   Styles for MudExRangeSlider matching MudBlazor Slider design
   Uses CSS variables set by component for colors and sizes
*/

/* ---------- Base ---------- */
.mud-ex-range-slider {
    position: relative;
    width: 100%;
    touch-action: none;
    user-select: none;
    /* Size defaults (Medium) - overridden by size classes */
    --ex-track-height: 2px;
    --ex-track-width: 2px;
    --ex-thumb-size: 12px;
    --ex-selection-height: 2px;
    --ex-selection-width: 2px;
    /* Colors set via inline style from component */
    /* --ex-track-color, --ex-thumb-color, --ex-selection-color */
}

    /* ---------- Size Variants ---------- */
    .mud-ex-range-slider.mud-ex-size-small {
        --ex-track-height: 1px;
        --ex-track-width: 1px;
        --ex-thumb-size: 8px;
        --ex-selection-height: 1px;
        --ex-selection-width: 1px;
    }

    .mud-ex-range-slider.mud-ex-size-medium {
        --ex-track-height: 2px;
        --ex-track-width: 2px;
        --ex-thumb-size: 12px;
        --ex-selection-height: 2px;
        --ex-selection-width: 2px;
    }

    .mud-ex-range-slider.mud-ex-size-large {
        --ex-track-height: 4px;
        --ex-track-width: 4px;
        --ex-thumb-size: 16px;
        --ex-selection-height: 4px;
        --ex-selection-width: 4px;
    }

    /* ---------- Track (Horizontal) ---------- */
    .mud-ex-range-slider .mud-ex-range-slider-track {
        position: relative;
        width: 100%;
        height: 32px; /* Touch target area */
        display: flex;
        align-items: center;
        box-sizing: border-box;
    }

        .mud-ex-range-slider .mud-ex-range-slider-track::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            height: var(--ex-track-height);
            background: var(--ex-track-color);
            border-radius: 2px;
        }

    /* Selection overlay (H) */
    .mud-ex-range-slider .mud-ex-range-slider-selection {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        left: calc(var(--p-start) * 100%);
        right: calc((1 - var(--p-end)) * 100%);
        height: var(--ex-selection-height);
        background: var(--ex-selection-color);
        pointer-events: auto;
        border-radius: 2px;
        cursor: move;
        z-index: 1;
    }

    /* Thumbs (buttons) for H */
    .mud-ex-range-slider .mud-ex-range-slider-thumb {
        position: absolute;
        top: 50%;
        width: var(--ex-thumb-size);
        height: var(--ex-thumb-size);
        transform: translate(-50%, -50%);
        background: var(--ex-thumb-color);
        border: none;
        border-radius: 50%;
        cursor: pointer;
        outline: none;
        z-index: 2;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        transition: box-shadow 0.2s ease;
    }

        .mud-ex-range-slider .mud-ex-range-slider-thumb.start {
            left: calc(var(--p-start) * 100%);
        }

        .mud-ex-range-slider .mud-ex-range-slider-thumb.end {
            left: calc(var(--p-end) * 100%);
        }

        .mud-ex-range-slider .mud-ex-range-slider-thumb:hover {
            box-shadow: 0 0 0 8px rgba(0, 0, 0, 0.04);
        }

        .mud-ex-range-slider .mud-ex-range-slider-thumb:active {
            cursor: grabbing;
            box-shadow: 0 0 0 12px rgba(0, 0, 0, 0.08);
        }

        .mud-ex-range-slider .mud-ex-range-slider-thumb:focus-visible {
            box-shadow: 0 0 0 12px rgba(0, 0, 0, 0.12);
        }

    /* Inputs block */
    .mud-ex-range-slider .mud-ex-range-slider-inputs {
        margin-top: 16px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem;
    }

    /* ---------- Vertical Orientation ---------- */
    .mud-ex-range-slider.mud-ex-vertical {
        width: auto;
        height: 220px;
        display: inline-flex;
        flex-direction: column;
    }

        .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-track {
            width: 32px; /* Touch target area */
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: stretch;
        }

            .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-track::before {
                left: 50%;
                top: 0;
                bottom: 0;
                right: auto;
                transform: translateX(-50%);
                width: var(--ex-track-width);
                height: auto;
            }

        .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-selection {
            left: 50%;
            right: auto;
            transform: translateX(-50%);
            width: var(--ex-selection-width);
            height: auto;
            top: calc(var(--p-start) * 100%);
            bottom: calc((1 - var(--p-end)) * 100%);
        }

        .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-thumb {
            left: 50%;
            top: auto;
            transform: translate(-50%, -50%);
            cursor: ns-resize;
        }

            .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-thumb.start {
                top: calc(var(--p-start) * 100%);
            }

            .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-thumb.end {
                top: calc(var(--p-end) * 100%);
            }

    /* ---------- Disabled State ---------- */
    .mud-ex-range-slider[aria-disabled="true"] {
        opacity: 0.38;
        pointer-events: none;
    }

        .mud-ex-range-slider[aria-disabled="true"] .mud-ex-range-slider-thumb {
            cursor: not-allowed;
        }

        .mud-ex-range-slider[aria-disabled="true"] .mud-ex-range-slider-selection {
            cursor: not-allowed;
        }

    /* ---------- ReadOnly State ---------- */
    .mud-ex-range-slider[aria-readonly="true"] .mud-ex-range-slider-thumb {
        cursor: default;
    }

    .mud-ex-range-slider[aria-readonly="true"] .mud-ex-range-slider-selection {
        cursor: default;
    }
