/* _mudexrangeslider.scss
   Styles for MudExRangeSlider matching MudBlazor Slider design
   Uses CSS variables set by component for colors and sizes
   Supports custom templates for Track, Selection, and Thumbs
*/

/* ---------- Base ---------- */
.mud-ex-range-slider {
    position: relative;
    width: 100%;
    touch-action: none;
    user-select: none;
    /* Size defaults (Medium) - overridden by size classes */
    --ex-track-height: 2px;
    --ex-track-width: 2px;
    --ex-thumb-size: 12px;
    --ex-selection-height: 2px;
    --ex-selection-width: 2px;
    /* Colors set via inline style from component */
    /* --ex-track-color, --ex-thumb-color, --ex-selection-color */
}

    /* ---------- Size Variants ---------- */
    .mud-ex-range-slider.mud-ex-size-small {
        --ex-track-height: 1px;
        --ex-track-width: 1px;
        --ex-thumb-size: 8px;
        --ex-selection-height: 1px;
        --ex-selection-width: 1px;
    }

    .mud-ex-range-slider.mud-ex-size-medium {
        --ex-track-height: 2px;
        --ex-track-width: 2px;
        --ex-thumb-size: 12px;
        --ex-selection-height: 2px;
        --ex-selection-width: 2px;
    }

    .mud-ex-range-slider.mud-ex-size-large {
        --ex-track-height: 4px;
        --ex-track-width: 4px;
        --ex-thumb-size: 16px;
        --ex-selection-height: 4px;
        --ex-selection-width: 4px;
    }

    /* ---------- Track (Horizontal) ---------- */
    .mud-ex-range-slider .mud-ex-range-slider-track {
        position: relative;
        width: 100%;
        height: 32px; /* Touch target area */
        display: flex;
        align-items: center;
        box-sizing: border-box;
    }

        /* Default track line (only when no template) */
        .mud-ex-range-slider .mud-ex-range-slider-track:not(.mud-ex-has-template)::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            height: var(--ex-track-height);
            background: var(--ex-track-color);
            border-radius: 2px;
            pointer-events: none;
        }

    /* Track template container */
    .mud-ex-range-slider .mud-ex-range-slider-track-template {
        position: absolute;
        left: 0;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        pointer-events: none;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: stretch;
    }

        .mud-ex-range-slider .mud-ex-range-slider-track-template > * {
            width: 100%;
        }

    /* Selection overlay (H) */
    .mud-ex-range-slider .mud-ex-range-slider-selection {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        left: calc(var(--p-start) * 100%);
        right: calc((1 - var(--p-end)) * 100%);
        pointer-events: auto;
        cursor: move;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

        /* Default selection bar (only when no template) */
        .mud-ex-range-slider .mud-ex-range-slider-selection:not(.mud-ex-has-template) {
            height: var(--ex-selection-height);
            background: var(--ex-selection-color);
            border-radius: 2px;
        }

    /* Selection template container */
    .mud-ex-range-slider .mud-ex-range-slider-selection-template {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
    }

        .mud-ex-range-slider .mud-ex-range-slider-selection-template > * {
            width: 100%;
        }

    /* Thumbs (buttons) for H */
    .mud-ex-range-slider .mud-ex-range-slider-thumb {
        position: absolute;
        top: 50%;
        transform: translate(-50%, -50%);
        cursor: pointer;
        outline: none;
        z-index: 2;
    }

        /* Default thumb style (only when no template) */
        .mud-ex-range-slider .mud-ex-range-slider-thumb:not(.mud-ex-has-template) {
            width: var(--ex-thumb-size);
            height: var(--ex-thumb-size);
            background: var(--ex-thumb-color);
            border: none;
            border-radius: 50%;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
            transition: box-shadow 0.2s ease;
        }

            .mud-ex-range-slider .mud-ex-range-slider-thumb:not(.mud-ex-has-template):hover {
                box-shadow: 0 0 0 8px rgba(0, 0, 0, 0.04);
            }

            .mud-ex-range-slider .mud-ex-range-slider-thumb:not(.mud-ex-has-template):active {
                cursor: grabbing;
                box-shadow: 0 0 0 12px rgba(0, 0, 0, 0.08);
            }

            .mud-ex-range-slider .mud-ex-range-slider-thumb:not(.mud-ex-has-template):focus-visible {
                box-shadow: 0 0 0 12px rgba(0, 0, 0, 0.12);
            }

        /* Template thumb container */
        .mud-ex-range-slider .mud-ex-range-slider-thumb.mud-ex-has-template {
            display: flex;
            align-items: center;
            justify-content: center;
        }

    .mud-ex-range-slider .mud-ex-range-slider-thumb-template {
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
    }

    .mud-ex-range-slider .mud-ex-range-slider-thumb.start {
        left: calc(var(--p-start) * 100%);
    }

    .mud-ex-range-slider .mud-ex-range-slider-thumb.end {
        left: calc(var(--p-end) * 100%);
    }

    .mud-ex-range-slider .mud-ex-range-slider-thumb:active {
        cursor: grabbing;
    }

    /* Inputs block */
    .mud-ex-range-slider .mud-ex-range-slider-inputs {
        margin-top: 16px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0.5rem;
    }

    /* ---------- Vertical Orientation ---------- */
    .mud-ex-range-slider.mud-ex-vertical {
        width: auto;
        height: 220px;
        display: inline-flex;
        flex-direction: column;
    }

        .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-track {
            width: 32px; /* Touch target area */
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: stretch;
        }

            .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-track:not(.mud-ex-has-template)::before {
                left: 50%;
                top: 0;
                bottom: 0;
                right: auto;
                transform: translateX(-50%);
                width: var(--ex-track-width);
                height: auto;
            }

        .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-track-template {
            left: 50%;
            top: 0;
            bottom: 0;
            right: auto;
            transform: translateX(-50%);
            width: auto;
            height: 100%;
            flex-direction: column;
        }

            .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-track-template > * {
                width: auto;
                height: 100%;
            }

        .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-selection {
            left: 50%;
            right: auto;
            transform: translateX(-50%);
            height: auto;
            top: calc(var(--p-start) * 100%);
            bottom: calc((1 - var(--p-end)) * 100%);
            flex-direction: column;
        }

            .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-selection:not(.mud-ex-has-template) {
                width: var(--ex-selection-width);
                height: auto;
            }

        .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-selection-template > * {
            width: auto;
            height: 100%;
        }

        .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-thumb {
            left: 50%;
            top: auto;
            transform: translate(-50%, -50%);
            cursor: ns-resize;
        }

            .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-thumb.start {
                top: calc(var(--p-start) * 100%);
            }

            .mud-ex-range-slider.mud-ex-vertical .mud-ex-range-slider-thumb.end {
                top: calc(var(--p-end) * 100%);
            }

    /* ---------- Disabled State ---------- */
    .mud-ex-range-slider[aria-disabled="true"] {
        opacity: 0.38;
        pointer-events: none;
    }

        .mud-ex-range-slider[aria-disabled="true"] .mud-ex-range-slider-thumb {
            cursor: not-allowed;
        }

        .mud-ex-range-slider[aria-disabled="true"] .mud-ex-range-slider-selection {
            cursor: not-allowed;
        }

    /* ---------- ReadOnly State ---------- */
    .mud-ex-range-slider[aria-readonly="true"] .mud-ex-range-slider-thumb {
        cursor: default;
    }

    .mud-ex-range-slider[aria-readonly="true"] .mud-ex-range-slider-selection {
        cursor: default;
    }
