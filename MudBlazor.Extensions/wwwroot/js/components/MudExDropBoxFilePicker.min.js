export function initializeMudExDropBoxFilePicker(t,i,r){return new n(t,i,r)}class n{elementRef;dotnet;options;constructor(n,t,i){this.elementRef=n;this.dotnet=t;this.setOptions(i)}setOptions(n){this.options=n;this.options.apiKey&&this.loadDropboxApi()}loadDropboxApi(){const n=document.getElementById("dropboxjs");if(n)n.setAttribute("data-app-key",this.options.apiKey),this.apiLoaded();else{const n=document.createElement("script");n.async=!0;n.defer=!0;n.src="https://www.dropbox.com/static/api/2/dropins.js";n.id="dropboxjs";n.setAttribute("data-app-key",this.options.apiKey);n.onload=this.apiLoaded.bind(this);document.body.appendChild(n)}}apiLoaded(){this.dotnet.invokeMethodAsync("OnReady")}showPicker(){Dropbox.choose({success:n=>{const t=n.map(n=>({url:n.link,fileName:n.name,size:n.bytes,isDir:n.isDir,icon:n.icon}));this.dotnet.invokeMethodAsync("OnFilesSelected",t)},cancel:()=>{this.dotnet.invokeMethodAsync("OnFilesSelected",[])},linkType:"direct",multiselect:this.options.multiSelect||!1,sizeLimit:this.options.maxFileSize||undefined,extensions:this.options.allowedExtensions||[],folderselect:!1})}dispose(){}}window.MudExDropBoxFilePicker=n;