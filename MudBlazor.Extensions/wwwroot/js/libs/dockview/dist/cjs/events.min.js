/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/events.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var Event,__values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsapEvent=exports.addDisposableListener=exports.Emitter=exports.AcceptableEvent=exports.DockviewEvent=exports.Event=void 0,function(e){e.any=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e.map((function(e){return e(t)}));return{dispose:function(){n.forEach((function(e){e.dispose()}))}}}}}(Event||(exports.Event=Event={}));var DockviewEvent=function(){function e(){this._defaultPrevented=!1}return Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}();exports.DockviewEvent=DockviewEvent;var AcceptableEvent=function(){function e(){this._isAccepted=!1}return Object.defineProperty(e.prototype,"isAccepted",{get:function(){return this._isAccepted},enumerable:!1,configurable:!0}),e.prototype.accept=function(){this._isAccepted=!0},e}();exports.AcceptableEvent=AcceptableEvent;var LeakageMonitor=function(){function e(){this.events=new Map}return Object.defineProperty(e.prototype,"size",{get:function(){return this.events.size},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t){this.events.set(e,t)},e.prototype.delete=function(e){this.events.delete(e)},e.prototype.clear=function(){this.events.clear()},e}(),Stacktrace=function(){function e(e){this.value=e}return e.create=function(){var t;return new e(null!==(t=(new Error).stack)&&void 0!==t?t:"")},e.prototype.print=function(){console.warn("dockview: stacktrace",this.value)},e}(),Listener=function(e,t){this.callback=e,this.stacktrace=t},Emitter=function(){function e(e){this.options=e,this._listeners=[],this._disposed=!1}return e.setLeakageMonitorEnabled=function(t){t!==e.ENABLE_TRACKING&&e.MEMORY_LEAK_WATCHER.clear(),e.ENABLE_TRACKING=t},Object.defineProperty(e.prototype,"value",{get:function(){return this._last},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n){var r;(null===(r=t.options)||void 0===r?void 0:r.replay)&&void 0!==t._last&&n(t._last);var i=new Listener(n,e.ENABLE_TRACKING?Stacktrace.create():void 0);return t._listeners.push(i),{dispose:function(){var n=t._listeners.indexOf(i);n>-1?t._listeners.splice(n,1):e.ENABLE_TRACKING}}},e.ENABLE_TRACKING&&e.MEMORY_LEAK_WATCHER.add(this._event,Stacktrace.create())),this._event},enumerable:!1,configurable:!0}),e.prototype.fire=function(e){var t,n,r;(null===(r=this.options)||void 0===r?void 0:r.replay)&&(this._last=e);try{for(var i=__values(this._listeners),o=i.next();!o.done;o=i.next()){o.value.callback(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.dispose=function(){var t=this;this._disposed||(this._disposed=!0,this._listeners.length>0&&(e.ENABLE_TRACKING&&queueMicrotask((function(){var e,n,r;try{for(var i=__values(t._listeners),o=i.next();!o.done;o=i.next()){var s=o.value;console.warn("dockview: stacktrace",null===(r=s.stacktrace)||void 0===r?void 0:r.print())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}})),this._listeners=[]),e.ENABLE_TRACKING&&this._event&&e.MEMORY_LEAK_WATCHER.delete(this._event))},e.ENABLE_TRACKING=!1,e.MEMORY_LEAK_WATCHER=new LeakageMonitor,e}();function addDisposableListener(e,t,n,r){return e.addEventListener(t,n,r),{dispose:function(){e.removeEventListener(t,n,r)}}}exports.Emitter=Emitter,exports.addDisposableListener=addDisposableListener;var AsapEvent=function(){function e(){var e=this;this._onFired=new Emitter,this._currentFireCount=0,this._queued=!1,this.onEvent=function(t){var n=e._currentFireCount;return e._onFired.event((function(){e._currentFireCount>n&&t()}))}}return e.prototype.fire=function(){var e=this;this._currentFireCount++,this._queued||(this._queued=!0,queueMicrotask((function(){e._queued=!1,e._onFired.fire()})))},e.prototype.dispose=function(){this._onFired.dispose()},e}();exports.AsapEvent=AsapEvent;
//# sourceMappingURL=/sm/2b8bfa34c00fb5cfc43e985991371e2227cae1715853a55663834b0e52865ca7.map