/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/dockview/components/tab/tab.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tab=void 0;var events_1=require("../../../events"),lifecycle_1=require("../../../lifecycle"),dataTransfer_1=require("../../../dnd/dataTransfer"),dom_1=require("../../../dom"),droptarget_1=require("../../../dnd/droptarget"),abstractDragHandler_1=require("../../../dnd/abstractDragHandler"),ghost_1=require("../../../dnd/ghost"),TabDragHandler=function(e){function t(t,r,n,o,a){var s=e.call(this,t,a)||this;return s.accessor=r,s.group=n,s.panel=o,s.panelTransfer=dataTransfer_1.LocalSelectionTransfer.getInstance(),s}return __extends(t,e),t.prototype.getData=function(e){var t=this;return this.panelTransfer.setData([new dataTransfer_1.PanelTransfer(this.accessor.id,this.group.id,this.panel.id)],dataTransfer_1.PanelTransfer.prototype),{dispose:function(){t.panelTransfer.clearData(dataTransfer_1.PanelTransfer.prototype)}}},t}(abstractDragHandler_1.DragHandler),Tab=function(e){function t(t,r,n){var o=e.call(this)||this;return o.panel=t,o.accessor=r,o.group=n,o.content=void 0,o._onPointDown=new events_1.Emitter,o.onPointerDown=o._onPointDown.event,o._onDropped=new events_1.Emitter,o.onDrop=o._onDropped.event,o._onDragStart=new events_1.Emitter,o.onDragStart=o._onDragStart.event,o._element=document.createElement("div"),o._element.className="dv-tab",o._element.tabIndex=0,o._element.draggable=!o.accessor.options.disableDnd,(0,dom_1.toggleClass)(o.element,"dv-inactive-tab",!0),o.dragHandler=new TabDragHandler(o._element,o.accessor,o.group,o.panel,!!o.accessor.options.disableDnd),o.dropTarget=new droptarget_1.Droptarget(o._element,{acceptedTargetZones:["left","right"],overlayModel:{activationSize:{value:50,type:"percentage"}},canDisplayOverlay:function(e,t){if(o.group.locked)return!1;var r=(0,dataTransfer_1.getPanelData)();return!(!r||o.accessor.id!==r.viewId)||o.group.model.canDisplayOverlay(e,t,"tab")},getOverrideTarget:function(){var e;return null===(e=n.model.dropTargetContainer)||void 0===e?void 0:e.model}}),o.onWillShowOverlay=o.dropTarget.onWillShowOverlay,o.addDisposables(o._onPointDown,o._onDropped,o._onDragStart,o.dragHandler.onDragStart((function(e){if(e.dataTransfer){var t=getComputedStyle(o.element),r=o.element.cloneNode(!0);Array.from(t).forEach((function(e){return r.style.setProperty(e,t.getPropertyValue(e),t.getPropertyPriority(e))})),r.style.position="absolute",(0,ghost_1.addGhostImage)(e.dataTransfer,r,{y:-10,x:30})}o._onDragStart.fire(e)})),o.dragHandler,(0,events_1.addDisposableListener)(o._element,"pointerdown",(function(e){o._onPointDown.fire(e)})),o.dropTarget.onDrop((function(e){o._onDropped.fire(e)})),o.dropTarget),o}return __extends(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),t.prototype.setActive=function(e){(0,dom_1.toggleClass)(this.element,"dv-active-tab",e),(0,dom_1.toggleClass)(this.element,"dv-inactive-tab",!e)},t.prototype.setContent=function(e){this.content&&this._element.removeChild(this.content.element),this.content=e,this._element.appendChild(this.content.element)},t.prototype.updateDragAndDropState=function(){this._element.draggable=!this.accessor.options.disableDnd,this.dragHandler.setDisabled(!!this.accessor.options.disableDnd)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(lifecycle_1.CompositeDisposable);exports.Tab=Tab;
//# sourceMappingURL=/sm/c02a53c15a096762d4021dac4b2c49aaa47f2fae247288c74efd2c9ac72803db.map