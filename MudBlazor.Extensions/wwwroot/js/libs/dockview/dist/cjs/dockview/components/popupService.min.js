/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/dockview/components/popupService.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.PopupService=void 0;var dom_1=require("../../dom"),events_1=require("../../events"),lifecycle_1=require("../../lifecycle"),PopupService=function(e){function t(t){var o=e.call(this)||this;return o.root=t,o._active=null,o._activeDisposable=new lifecycle_1.MutableDisposable,o._element=document.createElement("div"),o._element.className="dv-popover-anchor",o._element.style.position="relative",o.root.prepend(o._element),o.addDisposables(lifecycle_1.Disposable.from((function(){o.close()})),o._activeDisposable),o}return __extends(t,e),t.prototype.openPopover=function(e,t){var o,n=this;this.close();var i=document.createElement("div");i.style.position="absolute",i.style.zIndex=null!==(o=t.zIndex)&&void 0!==o?o:"var(--dv-overlay-z-index)",i.appendChild(e);var l=this._element.getBoundingClientRect(),r=l.left,s=l.top;i.style.top="".concat(t.y-s,"px"),i.style.left="".concat(t.x-r,"px"),this._element.appendChild(i),this._active=i,this._activeDisposable.value=new lifecycle_1.CompositeDisposable((0,events_1.addDisposableListener)(window,"pointerdown",(function(e){var t,o=e.target;if(o instanceof HTMLElement){for(var l=o;l&&l!==i;)l=null!==(t=null==l?void 0:l.parentElement)&&void 0!==t?t:null;l||n.close()}}))),requestAnimationFrame((function(){(0,dom_1.shiftAbsoluteElementIntoView)(i,n.root)}))},t.prototype.close=function(){this._active&&(this._active.remove(),this._activeDisposable.dispose(),this._active=null)},t}(lifecycle_1.CompositeDisposable);exports.PopupService=PopupService;
//# sourceMappingURL=/sm/ec6591d1d6ea8f3d43352da068df0a28f37b9ed8f4e02ec4c7a83123a8e67033.map