/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/scrollbar.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=function(l,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,l){e.__proto__=l}||function(e,l){for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])},e(l,t)};return function(l,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=l}e(l,t),l.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scrollbar=void 0;var dom_1=require("./dom"),events_1=require("./events"),lifecycle_1=require("./lifecycle"),math_1=require("./math"),Scrollbar=function(e){function l(t){var o=e.call(this)||this;return o.scrollableElement=t,o._scrollLeft=0,o._element=document.createElement("div"),o._element.className="dv-scrollable",o._horizontalScrollbar=document.createElement("div"),o._horizontalScrollbar.className="dv-scrollbar-horizontal",o.element.appendChild(t),o.element.appendChild(o._horizontalScrollbar),o.addDisposables((0,events_1.addDisposableListener)(o.element,"wheel",(function(e){o._scrollLeft+=e.deltaY*l.MouseWheelSpeed,o.calculateScrollbarStyles()})),(0,events_1.addDisposableListener)(o._horizontalScrollbar,"pointerdown",(function(e){e.preventDefault(),(0,dom_1.toggleClass)(o.element,"dv-scrollable-scrolling",!0);var l=e.clientX,t=o._scrollLeft,r=function(e){var r=e.clientX-l,n=o.element.clientWidth/o.scrollableElement.scrollWidth;o._scrollLeft=t+r/n,o.calculateScrollbarStyles()},n=function(){(0,dom_1.toggleClass)(o.element,"dv-scrollable-scrolling",!1),document.removeEventListener("pointermove",r),document.removeEventListener("pointerup",n),document.removeEventListener("pointercancel",n)};document.addEventListener("pointermove",r),document.addEventListener("pointerup",n),document.addEventListener("pointercancel",n)})),(0,events_1.addDisposableListener)(o.element,"scroll",(function(){o.calculateScrollbarStyles()})),(0,events_1.addDisposableListener)(o.scrollableElement,"scroll",(function(){o._scrollLeft=o.scrollableElement.scrollLeft,o.calculateScrollbarStyles()})),(0,dom_1.watchElementResize)(o.element,(function(){(0,dom_1.toggleClass)(o.element,"dv-scrollable-resizing",!0),o._animationTimer&&clearTimeout(o._animationTimer),o._animationTimer=setTimeout((function(){clearTimeout(o._animationTimer),(0,dom_1.toggleClass)(o.element,"dv-scrollable-resizing",!1)}),500),o.calculateScrollbarStyles()}))),o}return __extends(l,e),Object.defineProperty(l.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),l.prototype.calculateScrollbarStyles=function(){var e=this.element.clientWidth,l=this.scrollableElement.scrollWidth;if(l>e){var t=e*(e/l);this._horizontalScrollbar.style.width="".concat(t,"px"),this._scrollLeft=(0,math_1.clamp)(this._scrollLeft,0,this.scrollableElement.scrollWidth-e),this.scrollableElement.scrollLeft=this._scrollLeft;var o=this._scrollLeft/(l-e);this._horizontalScrollbar.style.left="".concat((e-t)*o,"px")}else this._horizontalScrollbar.style.width="0px",this._horizontalScrollbar.style.left="0px",this._scrollLeft=0},l.MouseWheelSpeed=1,l}(lifecycle_1.CompositeDisposable);exports.Scrollbar=Scrollbar;
//# sourceMappingURL=/sm/6a664660629a423f6bd9a4a05653f9d8468b088fcc63b2c1159b19dcb53b28e1.map