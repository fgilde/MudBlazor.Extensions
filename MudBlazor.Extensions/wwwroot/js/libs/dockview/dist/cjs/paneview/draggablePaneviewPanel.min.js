/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/paneview/draggablePaneviewPanel.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=function(n,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},e(n,a)};return function(n,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function t(){this.constructor=n}e(n,a),n.prototype=null===a?Object.create(a):(t.prototype=a.prototype,new t)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var n,a=1,t=arguments.length;a<t;a++)for(var r in n=arguments[a])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DraggablePaneviewPanel=void 0;var component_api_1=require("../api/component.api"),abstractDragHandler_1=require("../dnd/abstractDragHandler"),dataTransfer_1=require("../dnd/dataTransfer"),droptarget_1=require("../dnd/droptarget"),events_1=require("../events"),options_1=require("./options"),paneviewPanel_1=require("./paneviewPanel"),DraggablePaneviewPanel=function(e){function n(n){var a=e.call(this,{id:n.id,component:n.component,headerComponent:n.headerComponent,orientation:n.orientation,isExpanded:n.isExpanded,isHeaderVisible:!0,headerSize:n.headerSize,minimumBodySize:n.minimumBodySize,maximumBodySize:n.maximumBodySize})||this;return a._onDidDrop=new events_1.Emitter,a.onDidDrop=a._onDidDrop.event,a._onUnhandledDragOverEvent=new events_1.Emitter,a.onUnhandledDragOverEvent=a._onUnhandledDragOverEvent.event,a.accessor=n.accessor,a.addDisposables(a._onDidDrop,a._onUnhandledDragOverEvent),n.disableDnd||a.initDragFeatures(),a}return __extends(n,e),n.prototype.initDragFeatures=function(){var e=this;if(this.header){var n=this.id,a=this.accessor.id;this.header.draggable=!0,this.handler=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getData=function(){return dataTransfer_1.LocalSelectionTransfer.getInstance().setData([new dataTransfer_1.PaneTransfer(a,n)],dataTransfer_1.PaneTransfer.prototype),{dispose:function(){dataTransfer_1.LocalSelectionTransfer.getInstance().clearData(dataTransfer_1.PaneTransfer.prototype)}}},t}(abstractDragHandler_1.DragHandler))(this.header),this.target=new droptarget_1.Droptarget(this.element,{acceptedTargetZones:["top","bottom"],overlayModel:{activationSize:{type:"percentage",value:50}},canDisplayOverlay:function(n,a){var t=(0,dataTransfer_1.getPaneData)();if(t&&t.paneId!==e.id&&t.viewId===e.accessor.id)return!0;var r=new options_1.PaneviewUnhandledDragOverEvent(n,a,dataTransfer_1.getPaneData,e);return e._onUnhandledDragOverEvent.fire(r),r.isAccepted}}),this.addDisposables(this._onDidDrop,this.handler,this.target,this.target.onDrop((function(n){e.onDrop(n)})))}},n.prototype.onDrop=function(e){var n=(0,dataTransfer_1.getPaneData)();if(n&&n.viewId===this.accessor.id){var a=this._params.containerApi,t=n.paneId,r=a.getPanel(t);if(r){var i=a.panels,o=i.indexOf(r),s=a.panels.indexOf(this);"left"!==e.position&&"top"!==e.position||(s=Math.max(0,s-1)),"right"!==e.position&&"bottom"!==e.position||(o>s&&s++,s=Math.min(i.length-1,s)),a.movePanel(o,s)}else this._onDidDrop.fire(__assign(__assign({},e),{panel:this,getData:dataTransfer_1.getPaneData,api:new component_api_1.PaneviewApi(this.accessor)}))}else this._onDidDrop.fire(__assign(__assign({},e),{panel:this,api:new component_api_1.PaneviewApi(this.accessor),getData:dataTransfer_1.getPaneData}))},n}(paneviewPanel_1.PaneviewPanel);exports.DraggablePaneviewPanel=DraggablePaneviewPanel;
//# sourceMappingURL=/sm/5a8eb7292f8d0f5c9db4a4451ece41c2fabc412d95ae839e232772d7b28755ed.map