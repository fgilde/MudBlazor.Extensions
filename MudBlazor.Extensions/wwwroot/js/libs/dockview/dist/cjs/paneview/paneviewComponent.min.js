/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/paneview/paneviewComponent.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=function(i,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])},e(i,n)};return function(i,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=i}e(i,n),i.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var i,n=1,t=arguments.length;n<t;n++)for(var o in i=arguments[n])Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);return e},__assign.apply(this,arguments)},__read=this&&this.__read||function(e,i){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,o,r=n.call(e),a=[];try{for(;(void 0===i||i-- >0)&&!(t=r.next()).done;)a.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},__values=this&&this.__values||function(e){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&e[i],t=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PaneviewComponent=exports.PaneFramework=void 0;var component_api_1=require("../api/component.api"),events_1=require("../events"),lifecycle_1=require("../lifecycle"),splitview_1=require("../splitview/splitview"),paneview_1=require("./paneview"),draggablePaneviewPanel_1=require("./draggablePaneviewPanel"),defaultPaneviewHeader_1=require("./defaultPaneviewHeader"),math_1=require("../math"),resizable_1=require("../resizable"),dom_1=require("../dom"),nextLayoutId=(0,math_1.sequentialNumberGenerator)(),HEADER_SIZE=22,MINIMUM_BODY_SIZE=0,MAXIMUM_BODY_SIZE=Number.MAX_SAFE_INTEGER,PaneFramework=function(e){function i(i){var n=e.call(this,{accessor:i.accessor,id:i.id,component:i.component,headerComponent:i.headerComponent,orientation:i.orientation,isExpanded:i.isExpanded,disableDnd:i.disableDnd,headerSize:i.headerSize,minimumBodySize:i.minimumBodySize,maximumBodySize:i.maximumBodySize})||this;return n.options=i,n}return __extends(i,e),i.prototype.getBodyComponent=function(){return this.options.body},i.prototype.getHeaderComponent=function(){return this.options.header},i}(draggablePaneviewPanel_1.DraggablePaneviewPanel);exports.PaneFramework=PaneFramework;var PaneviewComponent=function(e){function i(i,n){var t,o=e.call(this,document.createElement("div"),n.disableAutoResizing)||this;return o._id=nextLayoutId.next(),o._disposable=new lifecycle_1.MutableDisposable,o._viewDisposables=new Map,o._onDidLayoutfromJSON=new events_1.Emitter,o.onDidLayoutFromJSON=o._onDidLayoutfromJSON.event,o._onDidLayoutChange=new events_1.Emitter,o.onDidLayoutChange=o._onDidLayoutChange.event,o._onDidDrop=new events_1.Emitter,o.onDidDrop=o._onDidDrop.event,o._onDidAddView=new events_1.Emitter,o.onDidAddView=o._onDidAddView.event,o._onDidRemoveView=new events_1.Emitter,o.onDidRemoveView=o._onDidRemoveView.event,o._onUnhandledDragOverEvent=new events_1.Emitter,o.onUnhandledDragOverEvent=o._onUnhandledDragOverEvent.event,o.element.style.height="100%",o.element.style.width="100%",o.addDisposables(o._onDidLayoutChange,o._onDidLayoutfromJSON,o._onDidDrop,o._onDidAddView,o._onDidRemoveView,o._onUnhandledDragOverEvent),o._classNames=new dom_1.Classnames(o.element),o._classNames.setClassNames(null!==(t=n.className)&&void 0!==t?t:""),i.appendChild(o.element),o._options=n,o.paneview=new paneview_1.Paneview(o.element,{orientation:splitview_1.Orientation.VERTICAL}),o.addDisposables(o._disposable),o}return __extends(i,e),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"panels",{get:function(){return this.paneview.getPanes()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"paneview",{get:function(){return this._paneview},set:function(e){var i=this;this._paneview=e,this._disposable.value=new lifecycle_1.CompositeDisposable(this._paneview.onDidChange((function(){i._onDidLayoutChange.fire(void 0)})),this._paneview.onDidAddView((function(e){return i._onDidAddView.fire(e)})),this._paneview.onDidRemoveView((function(e){return i._onDidRemoveView.fire(e)})))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minimumSize",{get:function(){return this.paneview.minimumSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maximumSize",{get:function(){return this.paneview.maximumSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.paneview.orientation===splitview_1.Orientation.HORIZONTAL?this.paneview.orthogonalSize:this.paneview.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.paneview.orientation===splitview_1.Orientation.HORIZONTAL?this.paneview.size:this.paneview.orthogonalSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),i.prototype.setVisible=function(e,i){var n=this.panels.indexOf(e);this.paneview.setViewVisible(n,i)},i.prototype.focus=function(){},i.prototype.updateOptions=function(e){var i,n;"className"in e&&this._classNames.setClassNames(null!==(i=e.className)&&void 0!==i?i:""),"disableResizing"in e&&(this.disableResizing=null!==(n=e.disableAutoResizing)&&void 0!==n&&n),this._options=__assign(__assign({},this.options),e)},i.prototype.addPanel=function(e){var i,n,t,o=this.options.createComponent({id:e.id,name:e.component});e.headerComponent&&this.options.createHeaderComponent&&(t=this.options.createHeaderComponent({id:e.id,name:e.headerComponent})),t||(t=new defaultPaneviewHeader_1.DefaultHeader);var r=new PaneFramework({id:e.id,component:e.component,headerComponent:e.headerComponent,header:t,body:o,orientation:splitview_1.Orientation.VERTICAL,isExpanded:!!e.isExpanded,disableDnd:!!this.options.disableDnd,accessor:this,headerSize:null!==(i=e.headerSize)&&void 0!==i?i:HEADER_SIZE,minimumBodySize:MINIMUM_BODY_SIZE,maximumBodySize:MAXIMUM_BODY_SIZE});this.doAddPanel(r);var a="number"==typeof e.size?e.size:splitview_1.Sizing.Distribute,s="number"==typeof e.index?e.index:void 0;return r.init({params:null!==(n=e.params)&&void 0!==n?n:{},minimumBodySize:e.minimumBodySize,maximumBodySize:e.maximumBodySize,isExpanded:e.isExpanded,title:e.title,containerApi:new component_api_1.PaneviewApi(this),accessor:this}),this.paneview.addPane(r,a,s),r.orientation=this.paneview.orientation,r},i.prototype.removePanel=function(e){var i=this.panels.findIndex((function(i){return i===e}));this.paneview.removePane(i),this.doRemovePanel(e)},i.prototype.movePanel=function(e,i){this.paneview.moveView(e,i)},i.prototype.getPanel=function(e){return this.panels.find((function(i){return i.id===e}))},i.prototype.layout=function(e,i){var n=__read(this.paneview.orientation===splitview_1.Orientation.HORIZONTAL?[e,i]:[i,e],2),t=n[0],o=n[1];this.paneview.layout(t,o)},i.prototype.toJSON=function(){var e=this,i=function(e){return e===Number.MAX_SAFE_INTEGER||e===Number.POSITIVE_INFINITY?void 0:e};return{views:this.paneview.getPanes().map((function(n,t){var o;return{size:e.paneview.getViewSize(t),data:n.toJSON(),minimumSize:(o=n.minimumBodySize,o<=0?void 0:o),maximumSize:i(n.maximumBodySize),headerSize:n.headerSize,expanded:n.isExpanded()}})),size:this.paneview.size}},i.prototype.fromJSON=function(e){var i=this;this.clear();var n=e.views,t=e.size,o=[],r=this.width,a=this.height;this.paneview=new paneview_1.Paneview(this.element,{orientation:splitview_1.Orientation.VERTICAL,descriptor:{size:t,views:n.map((function(e){var n,t,r,a,s=e.data,d=i.options.createComponent({id:s.id,name:s.component});s.headerComponent&&i.options.createHeaderComponent&&(a=i.options.createHeaderComponent({id:s.id,name:s.headerComponent})),a||(a=new defaultPaneviewHeader_1.DefaultHeader);var p=new PaneFramework({id:s.id,component:s.component,headerComponent:s.headerComponent,header:a,body:d,orientation:splitview_1.Orientation.VERTICAL,isExpanded:!!e.expanded,disableDnd:!!i.options.disableDnd,accessor:i,headerSize:null!==(n=e.headerSize)&&void 0!==n?n:HEADER_SIZE,minimumBodySize:null!==(t=e.minimumSize)&&void 0!==t?t:MINIMUM_BODY_SIZE,maximumBodySize:null!==(r=e.maximumSize)&&void 0!==r?r:MAXIMUM_BODY_SIZE});return i.doAddPanel(p),o.push((function(){var n;p.init({params:null!==(n=s.params)&&void 0!==n?n:{},minimumBodySize:e.minimumSize,maximumBodySize:e.maximumSize,title:s.title,isExpanded:!!e.expanded,containerApi:new component_api_1.PaneviewApi(i),accessor:i}),p.orientation=i.paneview.orientation})),setTimeout((function(){i._onDidAddView.fire(p)}),0),{size:e.size,view:p}}))}}),this.layout(r,a),o.forEach((function(e){return e()})),this._onDidLayoutfromJSON.fire()},i.prototype.clear=function(){var e,i;try{for(var n=__values(this._viewDisposables.entries()),t=n.next();!t.done;t=n.next()){var o=__read(t.value,2);o[0];o[1].dispose()}}catch(i){e={error:i}}finally{try{t&&!t.done&&(i=n.return)&&i.call(n)}finally{if(e)throw e.error}}this._viewDisposables.clear(),this.paneview.dispose()},i.prototype.doAddPanel=function(e){var i=this,n=new lifecycle_1.CompositeDisposable(e.onDidDrop((function(e){i._onDidDrop.fire(e)})),e.onUnhandledDragOverEvent((function(e){i._onUnhandledDragOverEvent.fire(e)})));this._viewDisposables.set(e.id,n)},i.prototype.doRemovePanel=function(e){var i=this._viewDisposables.get(e.id);i&&(i.dispose(),this._viewDisposables.delete(e.id))},i.prototype.dispose=function(){var i,n;e.prototype.dispose.call(this);try{for(var t=__values(this._viewDisposables.entries()),o=t.next();!o.done;o=t.next()){var r=__read(o.value,2);r[0];r[1].dispose()}}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=t.return)&&n.call(t)}finally{if(i)throw i.error}}this._viewDisposables.clear(),this.element.remove(),this.paneview.dispose()},i}(resizable_1.Resizable);exports.PaneviewComponent=PaneviewComponent;
//# sourceMappingURL=/sm/d3b2f3e044d3a7c3d8d0dd90fbf44a85f1efb4df3700bb8f2555b22f91ff2e09.map