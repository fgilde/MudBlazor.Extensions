/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/dom.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.findRelativeZIndexParent=exports.shiftAbsoluteElementIntoView=exports.onDidWindowResizeEnd=exports.onDidWindowMoveEnd=exports.isChildEntirelyVisibleWithinParent=exports.Classnames=exports.getDockviewTheme=exports.disableIframePointEvents=exports.addTestId=exports.isInDocument=exports.getDomNodePagePosition=exports.addStyles=exports.quasiDefaultPrevented=exports.quasiPreventDefault=exports.trackFocus=exports.getElementsByTagName=exports.isAncestor=exports.toggleClass=exports.addClasses=exports.removeClasses=exports.watchElementResize=exports.OverflowObserver=void 0;var events_1=require("./events"),lifecycle_1=require("./lifecycle"),OverflowObserver=function(e){function t(t){var n=e.call(this)||this;return n._onDidChange=new events_1.Emitter,n.onDidChange=n._onDidChange.event,n._value=null,n.addDisposables(n._onDidChange,watchElementResize(t,(function(e){var t=e.target.scrollWidth>e.target.clientWidth,r=e.target.scrollHeight>e.target.clientHeight;n._value={hasScrollX:t,hasScrollY:r},n._onDidChange.fire(n._value)}))),n}return __extends(t,e),t}(lifecycle_1.CompositeDisposable);function watchElementResize(e,t){var n=new ResizeObserver((function(e){requestAnimationFrame((function(){var n=e[0];t(n)}))}));return n.observe(e),{dispose:function(){n.unobserve(e),n.disconnect()}}}exports.OverflowObserver=OverflowObserver,exports.watchElementResize=watchElementResize;var removeClasses=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];try{for(var s=__values(r),i=s.next();!i.done;i=s.next()){var a=i.value;e.classList.contains(a)&&e.classList.remove(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}};exports.removeClasses=removeClasses;var addClasses=function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];try{for(var s=__values(r),i=s.next();!i.done;i=s.next()){var a=i.value;e.classList.contains(a)||e.classList.add(a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}};exports.addClasses=addClasses;var toggleClass=function(e,t,n){var r=e.classList.contains(t);n&&!r&&e.classList.add(t),!n&&r&&e.classList.remove(t)};function isAncestor(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function getElementsByTagName(e,t){return Array.prototype.slice.call(t.querySelectorAll(e),0)}function trackFocus(e){return new FocusTracker(e)}exports.toggleClass=toggleClass,exports.isAncestor=isAncestor,exports.getElementsByTagName=getElementsByTagName,exports.trackFocus=trackFocus;var FocusTracker=function(e){function t(t){var n=e.call(this)||this;n._onDidFocus=new events_1.Emitter,n.onDidFocus=n._onDidFocus.event,n._onDidBlur=new events_1.Emitter,n.onDidBlur=n._onDidBlur.event,n.addDisposables(n._onDidFocus,n._onDidBlur);var r=isAncestor(document.activeElement,t),o=!1,s=function(){o=!1,r||(r=!0,n._onDidFocus.fire())},i=function(){r&&(o=!0,window.setTimeout((function(){o&&(o=!1,r=!1,n._onDidBlur.fire())}),0))};return n._refreshStateHandler=function(){isAncestor(document.activeElement,t)!==r&&(r?i():s())},n.addDisposables((0,events_1.addDisposableListener)(t,"focus",s,!0)),n.addDisposables((0,events_1.addDisposableListener)(t,"blur",i,!0)),n}return __extends(t,e),t.prototype.refreshState=function(){this._refreshStateHandler()},t}(lifecycle_1.CompositeDisposable),QUASI_PREVENT_DEFAULT_KEY="dv-quasiPreventDefault";function quasiPreventDefault(e){e[QUASI_PREVENT_DEFAULT_KEY]=!0}function quasiDefaultPrevented(e){return e[QUASI_PREVENT_DEFAULT_KEY]}function addStyles(e,t){var n,r,o,s,i=Array.from(t);try{for(var a=__values(i),l=a.next();!l.done;l=a.next()){var c=l.value;if(c.href){var u=e.createElement("link");u.href=c.href,u.type=c.type,u.rel="stylesheet",e.head.appendChild(u)}var d=[];try{c.cssRules&&(d=Array.from(c.cssRules).map((function(e){return e.cssText})))}catch(e){}try{for(var f=(o=void 0,__values(d)),v=f.next();!v.done;v=f.next()){var p=v.value,h=e.createElement("style");h.appendChild(e.createTextNode(p)),e.head.appendChild(h)}}catch(e){o={error:e}}finally{try{v&&!v.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function getDomNodePagePosition(e){var t=e.getBoundingClientRect(),n=t.left,r=t.top,o=t.width,s=t.height;return{left:n+window.scrollX,top:r+window.scrollY,width:o,height:s}}function isInDocument(e){for(var t=e;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof DocumentFragment?t.parentNode.host:t.parentNode}return!1}function addTestId(e,t){e.setAttribute("data-testid",t)}function allTagsNamesInclusiveOfShadowDoms(e){var t=[];return function n(r){var o,s;if(r.nodeType===Node.ELEMENT_NODE){e.includes(r.tagName)&&t.push(r),r.shadowRoot&&n(r.shadowRoot);try{for(var i=__values(r.children),a=i.next();!a.done;a=i.next()){n(a.value)}}catch(e){o={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(o)throw o.error}}}}(document.documentElement),t}function disableIframePointEvents(e){var t,n;void 0===e&&(e=document);var r=allTagsNamesInclusiveOfShadowDoms(["IFRAME","WEBVIEW"]),o=new WeakMap;try{for(var s=__values(r),i=s.next();!i.done;i=s.next()){var a=i.value;o.set(a,a.style.pointerEvents),a.style.pointerEvents="none"}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{release:function(){var e,t,n;try{for(var s=__values(r),i=s.next();!i.done;i=s.next()){var a=i.value;a.style.pointerEvents=null!==(n=o.get(a))&&void 0!==n?n:"auto"}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}r.splice(0,r.length)}}}function getDockviewTheme(e){function t(e){for(var t=[],n=0;n<e.classList.length;n++)t.push(e.classList.item(n));return t}for(var n=void 0,r=e;null!==r&&"string"!=typeof(n=t(r).find((function(e){return e.startsWith("dockview-theme-")})));)r=r.parentElement;return n}exports.quasiPreventDefault=quasiPreventDefault,exports.quasiDefaultPrevented=quasiDefaultPrevented,exports.addStyles=addStyles,exports.getDomNodePagePosition=getDomNodePagePosition,exports.isInDocument=isInDocument,exports.addTestId=addTestId,exports.disableIframePointEvents=disableIframePointEvents,exports.getDockviewTheme=getDockviewTheme;var Classnames=function(){function e(e){this.element=e,this._classNames=[]}return e.prototype.setClassNames=function(e){var t,n,r,o;try{for(var s=__values(this._classNames),i=s.next();!i.done;i=s.next()){var a=i.value;(0,exports.toggleClass)(this.element,a,!1)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}this._classNames=e.split(" ").filter((function(e){return e.trim().length>0}));try{for(var l=__values(this._classNames),c=l.next();!c.done;c=l.next()){a=c.value;(0,exports.toggleClass)(this.element,a,!0)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}},e}();exports.Classnames=Classnames;var DEBOUCE_DELAY=100;function isChildEntirelyVisibleWithinParent(e,t){var n=getDomNodePagePosition(e),r=getDomNodePagePosition(t);return!(n.left<r.left)&&!(n.left+n.width>r.left+r.width)}function onDidWindowMoveEnd(e){var t,n=new events_1.Emitter,r=e.screenX,o=e.screenY,s=function(){if(!e.closed){var i=e.screenX,a=e.screenY;i===r&&a===o||(clearTimeout(t),t=setTimeout((function(){n.fire()}),DEBOUCE_DELAY),r=i,o=a),requestAnimationFrame(s)}};return s(),n}function onDidWindowResizeEnd(e,t){var n;return new lifecycle_1.CompositeDisposable((0,events_1.addDisposableListener)(e,"resize",(function(){clearTimeout(n),n=setTimeout((function(){t()}),DEBOUCE_DELAY)})))}function shiftAbsoluteElementIntoView(e,t,n){void 0===n&&(n={buffer:10});var r=n.buffer,o=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=0,a=0,l=o.left-s.left,c=o.top-s.top,u=o.bottom-s.bottom,d=o.right-s.right;l<r?i=r-l:d>r&&(i=-r-d),c<r?a=r-c:u>r&&(a=-u-r),0===i&&0===a||(e.style.transform="translate(".concat(i,"px, ").concat(a,"px)"))}function findRelativeZIndexParent(e){for(var t=e;t&&("auto"===t.style.zIndex||""===t.style.zIndex);)t=t.parentElement;return t}exports.isChildEntirelyVisibleWithinParent=isChildEntirelyVisibleWithinParent,exports.onDidWindowMoveEnd=onDidWindowMoveEnd,exports.onDidWindowResizeEnd=onDidWindowResizeEnd,exports.shiftAbsoluteElementIntoView=shiftAbsoluteElementIntoView,exports.findRelativeZIndexParent=findRelativeZIndexParent;
//# sourceMappingURL=/sm/c0488ae83629f186faadeb8044d7882bc7c4f8fdaf472b44d7f1f99adfed6fd2.map