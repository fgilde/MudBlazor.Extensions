/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/gridview/branchNode.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])},i(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),__read=this&&this.__read||function(i,e){var t="function"==typeof Symbol&&i[Symbol.iterator];if(!t)return i;var n,r,o=t.call(i),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(i){r={error:i}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return s},__spreadArray=this&&this.__spreadArray||function(i,e,t){if(t||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return i.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BranchNode=void 0;var splitview_1=require("../splitview/splitview"),events_1=require("../events"),leafNode_1=require("./leafNode"),lifecycle_1=require("../lifecycle"),BranchNode=function(i){function e(e,t,n,r,o,s,l,a){var h=i.call(this)||this;if(h.orientation=e,h.proportionalLayout=t,h.styles=n,h._childrenDisposable=lifecycle_1.Disposable.NONE,h.children=[],h._onDidChange=new events_1.Emitter,h.onDidChange=h._onDidChange.event,h._onDidVisibilityChange=new events_1.Emitter,h.onDidVisibilityChange=h._onDidVisibilityChange.event,h._orthogonalSize=o,h._size=r,h.element=document.createElement("div"),h.element.className="dv-branch-node",a){var p={views:a.map((function(i){return{view:i.node,size:i.node.size,visible:!(i.node instanceof leafNode_1.LeafNode&&void 0!==i.visible)||i.visible}})),size:h.orthogonalSize};h.children=a.map((function(i){return i.node})),h.splitview=new splitview_1.Splitview(h.element,{orientation:h.orientation,descriptor:p,proportionalLayout:t,styles:n,margin:l})}else h.splitview=new splitview_1.Splitview(h.element,{orientation:h.orientation,proportionalLayout:t,styles:n,margin:l}),h.splitview.layout(h.size,h.orthogonalSize);return h.disabled=s,h.addDisposables(h._onDidChange,h._onDidVisibilityChange,h.splitview.onDidSashEnd((function(){h._onDidChange.fire({})}))),h.setupChildrenEvents(),h}return __extends(e,i),Object.defineProperty(e.prototype,"width",{get:function(){return this.orientation===splitview_1.Orientation.HORIZONTAL?this.size:this.orthogonalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orientation===splitview_1.Orientation.HORIZONTAL?this.orthogonalSize:this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minimumSize",{get:function(){var i=this;return 0===this.children.length?0:Math.max.apply(Math,__spreadArray([],__read(this.children.map((function(e,t){return i.splitview.isViewVisible(t)?e.minimumOrthogonalSize:0}))),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){var i=this;return Math.min.apply(Math,__spreadArray([],__read(this.children.map((function(e,t){return i.splitview.isViewVisible(t)?e.maximumOrthogonalSize:Number.POSITIVE_INFINITY}))),!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minimumOrthogonalSize",{get:function(){return this.splitview.minimumSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maximumOrthogonalSize",{get:function(){return this.splitview.maximumSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orthogonalSize",{get:function(){return this._orthogonalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minimumWidth",{get:function(){return this.orientation===splitview_1.Orientation.HORIZONTAL?this.minimumOrthogonalSize:this.minimumSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minimumHeight",{get:function(){return this.orientation===splitview_1.Orientation.HORIZONTAL?this.minimumSize:this.minimumOrthogonalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maximumWidth",{get:function(){return this.orientation===splitview_1.Orientation.HORIZONTAL?this.maximumOrthogonalSize:this.maximumSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maximumHeight",{get:function(){return this.orientation===splitview_1.Orientation.HORIZONTAL?this.maximumSize:this.maximumOrthogonalSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){if(0===this.children.length)return splitview_1.LayoutPriority.Normal;var i=this.children.map((function(i){return void 0===i.priority?splitview_1.LayoutPriority.Normal:i.priority}));return i.some((function(i){return i===splitview_1.LayoutPriority.High}))?splitview_1.LayoutPriority.High:i.some((function(i){return i===splitview_1.LayoutPriority.Low}))?splitview_1.LayoutPriority.Low:splitview_1.LayoutPriority.Normal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.splitview.disabled},set:function(i){this.splitview.disabled=i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){return this.splitview.margin},set:function(i){this.splitview.margin=i,this.children.forEach((function(t){t instanceof e&&(t.margin=i)}))},enumerable:!1,configurable:!0}),e.prototype.setVisible=function(i){},e.prototype.isChildVisible=function(i){if(i<0||i>=this.children.length)throw new Error("Invalid index");return this.splitview.isViewVisible(i)},e.prototype.setChildVisible=function(i,e){if(i<0||i>=this.children.length)throw new Error("Invalid index");if(this.splitview.isViewVisible(i)!==e){var t=0===this.splitview.contentSize;this.splitview.setViewVisible(i,e);var n=0===this.splitview.contentSize;(e&&t||!e&&n)&&this._onDidVisibilityChange.fire({visible:e})}},e.prototype.moveChild=function(i,e){if(i!==e){if(i<0||i>=this.children.length)throw new Error("Invalid from index");i<e&&e--,this.splitview.moveView(i,e);var t=this._removeChild(i);this._addChild(t,e)}},e.prototype.getChildSize=function(i){if(i<0||i>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewSize(i)},e.prototype.resizeChild=function(i,e){if(i<0||i>=this.children.length)throw new Error("Invalid index");this.splitview.resizeView(i,e)},e.prototype.layout=function(i,e){this._size=e,this._orthogonalSize=i,this.splitview.layout(e,i)},e.prototype.addChild=function(i,e,t,n){if(t<0||t>this.children.length)throw new Error("Invalid index");this.splitview.addView(i,e,t,n),this._addChild(i,t)},e.prototype.getChildCachedVisibleSize=function(i){if(i<0||i>=this.children.length)throw new Error("Invalid index");return this.splitview.getViewCachedVisibleSize(i)},e.prototype.removeChild=function(i,e){if(i<0||i>=this.children.length)throw new Error("Invalid index");return this.splitview.removeView(i,e),this._removeChild(i)},e.prototype._addChild=function(i,e){this.children.splice(e,0,i),this.setupChildrenEvents()},e.prototype._removeChild=function(i){var e=__read(this.children.splice(i,1),1)[0];return this.setupChildrenEvents(),e},e.prototype.setupChildrenEvents=function(){var i=this;this._childrenDisposable.dispose(),this._childrenDisposable=new(lifecycle_1.CompositeDisposable.bind.apply(lifecycle_1.CompositeDisposable,__spreadArray([void 0,events_1.Event.any.apply(events_1.Event,__spreadArray([],__read(this.children.map((function(i){return i.onDidChange}))),!1))((function(e){i._onDidChange.fire({size:e.orthogonalSize})}))],__read(this.children.map((function(t,n){return t instanceof e?t.onDidVisibilityChange((function(e){var t=e.visible;i.setChildVisible(n,t)})):lifecycle_1.Disposable.NONE}))),!1)))},e.prototype.dispose=function(){this._childrenDisposable.dispose(),this.splitview.dispose(),this.children.forEach((function(i){return i.dispose()})),i.prototype.dispose.call(this)},e}(lifecycle_1.CompositeDisposable);exports.BranchNode=BranchNode;
//# sourceMappingURL=/sm/0e3a8055eb0fdfc772eed62555593769de1f96036f3f551a2aa4c716ff46fc17.map