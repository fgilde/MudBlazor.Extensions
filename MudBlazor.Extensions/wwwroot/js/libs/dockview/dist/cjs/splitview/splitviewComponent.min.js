/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/cjs/splitview/splitviewComponent.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __extends=this&&this.__extends||function(){var e=function(i,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])},e(i,t)};return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=i}e(i,t),i.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var i,t=1,n=arguments.length;t<n;t++)for(var o in i=arguments[t])Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);return e},__assign.apply(this,arguments)},__read=this&&this.__read||function(e,i){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,r=t.call(e),s=[];try{for(;(void 0===i||i-- >0)&&!(n=r.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s},__values=this&&this.__values||function(e){var i="function"==typeof Symbol&&Symbol.iterator,t=i&&e[i],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SplitviewComponent=void 0;var lifecycle_1=require("../lifecycle"),splitview_1=require("./splitview"),events_1=require("../events"),resizable_1=require("../resizable"),dom_1=require("../dom"),SplitviewComponent=function(e){function i(i,t){var n,o=e.call(this,document.createElement("div"),t.disableAutoResizing)||this;return o._splitviewChangeDisposable=new lifecycle_1.MutableDisposable,o._panels=new Map,o._onDidLayoutfromJSON=new events_1.Emitter,o.onDidLayoutFromJSON=o._onDidLayoutfromJSON.event,o._onDidAddView=new events_1.Emitter,o.onDidAddView=o._onDidAddView.event,o._onDidRemoveView=new events_1.Emitter,o.onDidRemoveView=o._onDidRemoveView.event,o._onDidLayoutChange=new events_1.Emitter,o.onDidLayoutChange=o._onDidLayoutChange.event,o.element.style.height="100%",o.element.style.width="100%",o._classNames=new dom_1.Classnames(o.element),o._classNames.setClassNames(null!==(n=t.className)&&void 0!==n?n:""),i.appendChild(o.element),o._options=t,o.splitview=new splitview_1.Splitview(o.element,t),o.addDisposables(o._onDidAddView,o._onDidLayoutfromJSON,o._onDidRemoveView,o._onDidLayoutChange),o}return __extends(i,e),Object.defineProperty(i.prototype,"panels",{get:function(){return this.splitview.getViews()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this._panels.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this.splitview.orientation},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"splitview",{get:function(){return this._splitview},set:function(e){var i=this;this._splitview&&this._splitview.dispose(),this._splitview=e,this._splitviewChangeDisposable.value=new lifecycle_1.CompositeDisposable(this._splitview.onDidSashEnd((function(){i._onDidLayoutChange.fire(void 0)})),this._splitview.onDidAddView((function(e){return i._onDidAddView.fire(e)})),this._splitview.onDidRemoveView((function(e){return i._onDidRemoveView.fire(e)})))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minimumSize",{get:function(){return this.splitview.minimumSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maximumSize",{get:function(){return this.splitview.maximumSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.splitview.orientation===splitview_1.Orientation.HORIZONTAL?this.splitview.orthogonalSize:this.splitview.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.splitview.orientation===splitview_1.Orientation.HORIZONTAL?this.splitview.size:this.splitview.orthogonalSize},enumerable:!1,configurable:!0}),i.prototype.updateOptions=function(e){var i,t;"className"in e&&this._classNames.setClassNames(null!==(i=e.className)&&void 0!==i?i:""),"disableResizing"in e&&(this.disableResizing=null!==(t=e.disableAutoResizing)&&void 0!==t&&t),"string"==typeof e.orientation&&(this.splitview.orientation=e.orientation),this._options=__assign(__assign({},this.options),e),this.splitview.layout(this.splitview.size,this.splitview.orthogonalSize)},i.prototype.focus=function(){var e;null===(e=this._activePanel)||void 0===e||e.focus()},i.prototype.movePanel=function(e,i){this.splitview.moveView(e,i)},i.prototype.setVisible=function(e,i){var t=this.panels.indexOf(e);this.splitview.setViewVisible(t,i)},i.prototype.setActive=function(e,i){this._activePanel=e,this.panels.filter((function(i){return i!==e})).forEach((function(e){e.api._onDidActiveChange.fire({isActive:!1}),i||e.focus()})),e.api._onDidActiveChange.fire({isActive:!0}),i||e.focus()},i.prototype.removePanel=function(e,i){var t=this._panels.get(e.id);if(!t)throw new Error("unknown splitview panel ".concat(e.id));t.dispose(),this._panels.delete(e.id);var n=this.panels.findIndex((function(i){return i===e}));this.splitview.removeView(n,i).dispose();var o=this.panels;o.length>0&&this.setActive(o[o.length-1])},i.prototype.getPanel=function(e){return this.panels.find((function(i){return i.id===e}))},i.prototype.addPanel=function(e){var i;if(this._panels.has(e.id))throw new Error("panel ".concat(e.id," already exists"));var t=this.options.createComponent({id:e.id,name:e.component});t.orientation=this.splitview.orientation,t.init({params:null!==(i=e.params)&&void 0!==i?i:{},minimumSize:e.minimumSize,maximumSize:e.maximumSize,snap:e.snap,priority:e.priority,accessor:this});var n="number"==typeof e.size?e.size:splitview_1.Sizing.Distribute,o="number"==typeof e.index?e.index:void 0;return this.splitview.addView(t,n,o),this.doAddView(t),this.setActive(t),t},i.prototype.layout=function(e,i){var t=__read(this.splitview.orientation===splitview_1.Orientation.HORIZONTAL?[e,i]:[i,e],2),n=t[0],o=t[1];this.splitview.layout(n,o)},i.prototype.doAddView=function(e){var i=this,t=e.api.onDidFocusChange((function(t){t.isFocused&&i.setActive(e,!0)}));this._panels.set(e.id,t)},i.prototype.toJSON=function(){var e,i=this;return{views:this.splitview.getViews().map((function(e,t){return{size:i.splitview.getViewSize(t),data:e.toJSON(),snap:!!e.snap,priority:e.priority}})),activeView:null===(e=this._activePanel)||void 0===e?void 0:e.id,size:this.splitview.size,orientation:this.splitview.orientation}},i.prototype.fromJSON=function(e){var i=this;this.clear();var t=e.views,n=e.orientation,o=e.size,r=e.activeView,s=[],a=this.width,l=this.height;if(this.splitview=new splitview_1.Splitview(this.element,{orientation:n,proportionalLayout:this.options.proportionalLayout,descriptor:{size:o,views:t.map((function(e){var t=e.data;if(i._panels.has(t.id))throw new Error("panel ".concat(t.id," already exists"));var o=i.options.createComponent({id:t.id,name:t.component});return s.push((function(){var n;o.init({params:null!==(n=t.params)&&void 0!==n?n:{},minimumSize:t.minimumSize,maximumSize:t.maximumSize,snap:e.snap,priority:e.priority,accessor:i})})),o.orientation=n,i.doAddView(o),setTimeout((function(){i._onDidAddView.fire(o)}),0),{size:e.size,view:o}}))}}),this.layout(a,l),s.forEach((function(e){return e()})),"string"==typeof r){var p=this.getPanel(r);p&&this.setActive(p)}this._onDidLayoutfromJSON.fire()},i.prototype.clear=function(){var e,i;try{for(var t=__values(this._panels.values()),n=t.next();!n.done;n=t.next()){n.value.dispose()}}catch(i){e={error:i}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(e)throw e.error}}for(this._panels.clear();this.splitview.length>0;){this.splitview.removeView(0,splitview_1.Sizing.Distribute,!0).dispose()}},i.prototype.dispose=function(){var i,t,n,o;try{for(var r=__values(this._panels.values()),s=r.next();!s.done;s=r.next()){s.value.dispose()}}catch(e){i={error:e}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}this._panels.clear();var a=this.splitview.getViews();this._splitviewChangeDisposable.dispose(),this.splitview.dispose();try{for(var l=__values(a),p=l.next();!p.done;p=l.next()){p.value.dispose()}}catch(e){n={error:e}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}this.element.remove(),e.prototype.dispose.call(this)},i}(resizable_1.Resizable);exports.SplitviewComponent=SplitviewComponent;
//# sourceMappingURL=/sm/254406933558969cfae292369fbfaa7d6af6d4d00eb43b0e81abcec8f283db50.map