/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/esm/paneview/paneview.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Splitview,Orientation}from"../splitview/splitview";import{CompositeDisposable}from"../lifecycle";import{Emitter}from"../events";import{addClasses,removeClasses}from"../dom";export class Paneview extends CompositeDisposable{get onDidAddView(){return this.splitview.onDidAddView}get onDidRemoveView(){return this.splitview.onDidRemoveView}get minimumSize(){return this.splitview.minimumSize}get maximumSize(){return this.splitview.maximumSize}get orientation(){return this.splitview.orientation}get size(){return this.splitview.size}get orthogonalSize(){return this.splitview.orthogonalSize}constructor(i,e){var t;super(),this.paneItems=[],this.skipAnimation=!1,this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this._orientation=null!==(t=e.orientation)&&void 0!==t?t:Orientation.VERTICAL,this.element=document.createElement("div"),this.element.className="dv-pane-container",i.appendChild(this.element),this.splitview=new Splitview(this.element,{orientation:this._orientation,proportionalLayout:!1,descriptor:e.descriptor}),this.getPanes().forEach((i=>{const e=new CompositeDisposable(i.onDidChangeExpansionState((()=>{this.setupAnimation(),this._onDidChange.fire(void 0)}))),t={pane:i,disposable:{dispose:()=>{e.dispose()}}};this.paneItems.push(t),i.orthogonalSize=this.splitview.orthogonalSize})),this.addDisposables(this._onDidChange,this.splitview.onDidSashEnd((()=>{this._onDidChange.fire(void 0)})),this.splitview.onDidAddView((()=>{this._onDidChange.fire()})),this.splitview.onDidRemoveView((()=>{this._onDidChange.fire()})))}setViewVisible(i,e){this.splitview.setViewVisible(i,e)}addPane(i,e,t=this.splitview.length,s=!1){const n=i.onDidChangeExpansionState((()=>{this.setupAnimation(),this._onDidChange.fire(void 0)})),o={pane:i,disposable:{dispose:()=>{n.dispose()}}};this.paneItems.splice(t,0,o),i.orthogonalSize=this.splitview.orthogonalSize,this.splitview.addView(i,e,t,s)}getViewSize(i){return this.splitview.getViewSize(i)}getPanes(){return this.splitview.getViews()}removePane(i,e={skipDispose:!1}){const t=this.paneItems.splice(i,1)[0];return this.splitview.removeView(i),e.skipDispose||(t.disposable.dispose(),t.pane.dispose()),t}moveView(i,e){if(i===e)return;const t=this.removePane(i,{skipDispose:!0});this.skipAnimation=!0;try{this.addPane(t.pane,t.pane.size,e,!1)}finally{this.skipAnimation=!1}}layout(i,e){this.splitview.layout(i,e)}setupAnimation(){this.skipAnimation||(this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),addClasses(this.element,"dv-animated"),this.animationTimer=setTimeout((()=>{this.animationTimer=void 0,removeClasses(this.element,"dv-animated")}),200))}dispose(){super.dispose(),this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=void 0),this.paneItems.forEach((i=>{i.disposable.dispose(),i.pane.dispose()})),this.paneItems=[],this.splitview.dispose(),this.element.remove()}}
//# sourceMappingURL=/sm/04e5ed9c65ff245c0d1fbb50117a4174287646deee881024ec0511b98b6b4361.map