/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/esm/dom.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{Emitter,addDisposableListener}from"./events";import{CompositeDisposable}from"./lifecycle";export class OverflowObserver extends CompositeDisposable{constructor(e){super(),this._onDidChange=new Emitter,this.onDidChange=this._onDidChange.event,this._value=null,this.addDisposables(this._onDidChange,watchElementResize(e,(e=>{const t=e.target.scrollWidth>e.target.clientWidth,s=e.target.scrollHeight>e.target.clientHeight;this._value={hasScrollX:t,hasScrollY:s},this._onDidChange.fire(this._value)})))}}export function watchElementResize(e,t){const s=new ResizeObserver((e=>{requestAnimationFrame((()=>{const s=e[0];t(s)}))}));return s.observe(e),{dispose:()=>{s.unobserve(e),s.disconnect()}}}export const removeClasses=(e,...t)=>{for(const s of t)e.classList.contains(s)&&e.classList.remove(s)};export const addClasses=(e,...t)=>{for(const s of t)e.classList.contains(s)||e.classList.add(s)};export const toggleClass=(e,t,s)=>{const o=e.classList.contains(t);s&&!o&&e.classList.add(t),!s&&o&&e.classList.remove(t)};export function isAncestor(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}export function getElementsByTagName(e,t){return Array.prototype.slice.call(t.querySelectorAll(e),0)}export function trackFocus(e){return new FocusTracker(e)}class FocusTracker extends CompositeDisposable{constructor(e){super(),this._onDidFocus=new Emitter,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new Emitter,this.onDidBlur=this._onDidBlur.event,this.addDisposables(this._onDidFocus,this._onDidBlur);let t=isAncestor(document.activeElement,e),s=!1;const o=()=>{s=!1,t||(t=!0,this._onDidFocus.fire())},n=()=>{t&&(s=!0,window.setTimeout((()=>{s&&(s=!1,t=!1,this._onDidBlur.fire())}),0))};this._refreshStateHandler=()=>{isAncestor(document.activeElement,e)!==t&&(t?n():o())},this.addDisposables(addDisposableListener(e,"focus",o,!0)),this.addDisposables(addDisposableListener(e,"blur",n,!0))}refreshState(){this._refreshStateHandler()}}const QUASI_PREVENT_DEFAULT_KEY="dv-quasiPreventDefault";export function quasiPreventDefault(e){e["dv-quasiPreventDefault"]=!0}export function quasiDefaultPrevented(e){return e["dv-quasiPreventDefault"]}export function addStyles(e,t){const s=Array.from(t);for(const t of s){if(t.href){const s=e.createElement("link");s.href=t.href,s.type=t.type,s.rel="stylesheet",e.head.appendChild(s)}let s=[];try{t.cssRules&&(s=Array.from(t.cssRules).map((e=>e.cssText)))}catch(e){}for(const t of s){const s=e.createElement("style");s.appendChild(e.createTextNode(t)),e.head.appendChild(s)}}}export function getDomNodePagePosition(e){const{left:t,top:s,width:o,height:n}=e.getBoundingClientRect();return{left:t+window.scrollX,top:s+window.scrollY,width:o,height:n}}export function isInDocument(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof DocumentFragment?t.parentNode.host:t.parentNode}return!1}export function addTestId(e,t){e.setAttribute("data-testid",t)}function allTagsNamesInclusiveOfShadowDoms(e){const t=[];return function s(o){if(o.nodeType===Node.ELEMENT_NODE){e.includes(o.tagName)&&t.push(o),o.shadowRoot&&s(o.shadowRoot);for(const e of o.children)s(e)}}(document.documentElement),t}export function disableIframePointEvents(e=document){const t=allTagsNamesInclusiveOfShadowDoms(["IFRAME","WEBVIEW"]),s=new WeakMap;for(const e of t)s.set(e,e.style.pointerEvents),e.style.pointerEvents="none";return{release:()=>{var e;for(const o of t)o.style.pointerEvents=null!==(e=s.get(o))&&void 0!==e?e:"auto";t.splice(0,t.length)}}}export function getDockviewTheme(e){function t(e){const t=[];for(let s=0;s<e.classList.length;s++)t.push(e.classList.item(s));return t}let s,o=e;for(;null!==o&&(s=t(o).find((e=>e.startsWith("dockview-theme-"))),"string"!=typeof s);)o=o.parentElement;return s}export class Classnames{constructor(e){this.element=e,this._classNames=[]}setClassNames(e){for(const e of this._classNames)toggleClass(this.element,e,!1);this._classNames=e.split(" ").filter((e=>e.trim().length>0));for(const e of this._classNames)toggleClass(this.element,e,!0)}}const DEBOUCE_DELAY=100;export function isChildEntirelyVisibleWithinParent(e,t){const s=getDomNodePagePosition(e),o=getDomNodePagePosition(t);return!(s.left<o.left)&&!(s.left+s.width>o.left+o.width)}export function onDidWindowMoveEnd(e){const t=new Emitter;let s,o=e.screenX,n=e.screenY;const i=()=>{if(e.closed)return;const r=e.screenX,l=e.screenY;r===o&&l===n||(clearTimeout(s),s=setTimeout((()=>{t.fire()}),100),o=r,n=l),requestAnimationFrame(i)};return i(),t}export function onDidWindowResizeEnd(e,t){let s;return new CompositeDisposable(addDisposableListener(e,"resize",(()=>{clearTimeout(s),s=setTimeout((()=>{t()}),100)})))}export function shiftAbsoluteElementIntoView(e,t,s={buffer:10}){const o=s.buffer,n=e.getBoundingClientRect(),i=t.getBoundingClientRect();let r=0,l=0;const a=n.left-i.left,c=n.top-i.top,d=n.bottom-i.bottom,u=n.right-i.right;a<o?r=o-a:u>o&&(r=-o-u),c<o?l=o-c:d>o&&(l=-d-o),0===r&&0===l||(e.style.transform=`translate(${r}px, ${l}px)`)}export function findRelativeZIndexParent(e){let t=e;for(;t&&("auto"===t.style.zIndex||""===t.style.zIndex);)t=t.parentElement;return t}
//# sourceMappingURL=/sm/ba4c5556a2837a6b122745f9f88b9d156e9ac38ac28daf4acef11013392cd7a2.map