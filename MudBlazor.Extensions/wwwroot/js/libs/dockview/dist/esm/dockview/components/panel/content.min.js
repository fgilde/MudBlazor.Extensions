/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/dockview-core@4.7.1/dist/esm/dockview/components/panel/content.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{CompositeDisposable,MutableDisposable}from"../../../lifecycle";import{Emitter}from"../../../events";import{trackFocus}from"../../../dom";import{Droptarget}from"../../../dnd/droptarget";import{getPanelData}from"../../../dnd/dataTransfer";export class ContentContainer extends CompositeDisposable{get element(){return this._element}constructor(e,t){super(),this.accessor=e,this.group=t,this.disposable=new MutableDisposable,this._onDidFocus=new Emitter,this.onDidFocus=this._onDidFocus.event,this._onDidBlur=new Emitter,this.onDidBlur=this._onDidBlur.event,this._element=document.createElement("div"),this._element.className="dv-content-container",this._element.tabIndex=-1,this.addDisposables(this._onDidFocus,this._onDidBlur);const n=t.dropTargetContainer;this.dropTarget=new Droptarget(this.element,{getOverlayOutline:()=>{var t;return"group"===(null===(t=e.options.theme)||void 0===t?void 0:t.dndPanelOverlay)?this.element.parentElement:null},className:"dv-drop-target-content",acceptedTargetZones:["top","bottom","left","right","center"],canDisplayOverlay:(e,t)=>{if("no-drop-target"===this.group.locked||this.group.locked&&"center"===t)return!1;const n=getPanelData();return!(!n&&e.shiftKey&&"floating"!==this.group.location.type)&&(!(!n||n.viewId!==this.accessor.id)||this.group.canDisplayOverlay(e,t,"content"))},getOverrideTarget:n?()=>n.model:void 0}),this.addDisposables(this.dropTarget)}show(){this.element.style.display=""}hide(){this.element.style.display="none"}renderPanel(e,t={asActive:!0}){const n=t.asActive||this.panel&&this.group.isPanelActive(this.panel);let i;switch(this.panel&&this.panel.view.content.element.parentElement===this._element&&this._element.removeChild(this.panel.view.content.element),this.panel=e,e.api.renderer){case"onlyWhenVisible":this.group.renderContainer.detatch(e),this.panel&&n&&this._element.appendChild(this.panel.view.content.element),i=this._element;break;case"always":e.view.content.element.parentElement===this._element&&this._element.removeChild(e.view.content.element),i=this.group.renderContainer.attach({panel:e,referenceContainer:this});break;default:throw new Error(`dockview: invalid renderer type '${e.api.renderer}'`)}if(n){const e=trackFocus(i),t=new CompositeDisposable;t.addDisposables(e,e.onDidFocus((()=>this._onDidFocus.fire())),e.onDidBlur((()=>this._onDidBlur.fire()))),this.disposable.value=t}}openPanel(e){this.panel!==e&&this.renderPanel(e)}layout(e,t){}closePanel(){var e;this.panel&&"onlyWhenVisible"===this.panel.api.renderer&&(null===(e=this.panel.view.content.element.parentElement)||void 0===e||e.removeChild(this.panel.view.content.element)),this.panel=void 0}dispose(){this.disposable.dispose(),super.dispose()}}
//# sourceMappingURL=/sm/3a11c12bd67e8953473ff9aebfd80a3f281b756a8dadf6bf9c93a876f326fd13.map